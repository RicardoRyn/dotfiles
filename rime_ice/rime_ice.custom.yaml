patch:
  menu:
    page_size: 5  # å€™é€‰è¯ä¸ªæ•°
  punctuator:
    half_shape:
      ',' : 'ï¼Œ'
      '.' : 'ã€‚'
      '<' : 'ã€Š'
      '>' : 'ã€‹'
      '/' : '/'
      '?' : 'ï¼Ÿ'
      ';' : 'ï¼›'
      ':' : 'ï¼š'
      '''' : { pair: [ 'â€˜', 'â€™' ] }
      '"' : { pair: [ 'â€œ', 'â€' ] }
      '\' : 'ã€'
      '|' : '|'
      '`' : '`'
      '~' : '~'
      '!' : 'ï¼'
      '@' : '@'
      '#' : '#'
      '%' : '%'
      '$' : 'Â¥'
      '^' : 'â€¦â€¦'
      '&' : '&'
      '*' : '*'
      '(' : 'ï¼ˆ'
      ')' : 'ï¼‰'
      '-' : '-'
      '_' : â€”â€”
      '+' : '+'
      '=' : '='
      '[' : '['
      ']' : ']'
      '{' : '{'
      '}' : '}'
  switches:
    - name: ascii_mode
      states: [ ä¸­, ï¼¡ ]
      reset: 1
    - name: ascii_punct  # ä¸­è‹±æ ‡ç‚¹
      states: [ Â¥, $ ]
    - name: traditionalization
      states: [ ç®€, ç¹ ]
    - name: emoji
      states: [ ğŸ’€, ğŸ˜„ ]
      reset: 1
    - name: full_shape
      states: [ åŠè§’, å…¨è§’ ]
    - name: search_single_char  # search.lua çš„åŠŸèƒ½å¼€å…³ï¼Œè¾…ç æŸ¥è¯æ—¶æ˜¯å¦å•å­—ä¼˜å…ˆ
      states: [æ­£å¸¸, å•å­—]
      abbrev: [è¯, å•]
  ascii_composer:
    switch_key:
      Caps_Lock: clear      # commit_code | commit_text | clear
      Shift_L: noop         # commit_code | commit_text | inline_ascii | clear | noop
      Shift_R: noop         # commit_code | commit_text | inline_ascii | clear | noop
      Control_L: noop       # commit_code | commit_text | inline_ascii | clear | noop
      Control_R: noop       # commit_code | commit_text | inline_ascii | clear | noop
  style:
    font_point: 11                           # å…¨å±€å­—ä½“å­—å·
  key_binder:
    bindings:
      # Tab / Shift+Tab åˆ‡æ¢å…‰æ ‡è‡³ä¸‹/ä¸Šä¸€ä¸ªæ‹¼éŸ³
      - { when: composing, accept: Shift+Tab, send: Shift+Left }
      - { when: composing, accept: Tab, send: Shift+Right }

      # Option/Alt + â†/â†’ åˆ‡æ¢å…‰æ ‡è‡³ä¸‹/ä¸Šä¸€ä¸ªæ‹¼éŸ³
      - { when: composing, accept: Alt+Left, send: Shift+Left }
      - { when: composing, accept: Alt+Right, send: Shift+Right }

      # ç¿»é¡µ - =
      - { when: has_menu, accept: minus, send: Page_Up }  # ä¸Šä¸€é¡µè®¾ç½®ä¸º paging æ—¶ä¼šå¯¼è‡´ç›´æ¥ä¸Šå±å¹¶è¾“å‡ºå‡å·
      - { when: has_menu, accept: equal, send: Page_Down }

      # ç¿»é¡µ , .
      - { when: paging, accept: comma, send: Page_Up }
      - { when: has_menu, accept: period, send: Page_Down }

      - { when: always, toggle: ascii_punct, accept: Control+Shift+3 }              # åˆ‡æ¢ä¸­è‹±æ ‡ç‚¹
      - { when: always, toggle: ascii_punct, accept: Control+Shift+numbersign }     # åˆ‡æ¢ä¸­è‹±æ ‡ç‚¹
      - { when: always, toggle: traditionalization, accept: Control+Shift+4 }       # åˆ‡æ¢ç®€ç¹
      - { when: always, toggle: traditionalization, accept: Control+Shift+dollar }  # åˆ‡æ¢ç®€ç¹

      # å°†å°é”®ç›˜ 0~9 . æ˜ å°„åˆ°ä¸»é”®ç›˜ï¼Œæ•°å­—é‡‘é¢å¤§å†™çš„ Lua å¦‚ R1234.5678 å¯ä½¿ç”¨å°é”®ç›˜è¾“å…¥
      - {accept: KP_0, send: 0, when: composing}
      - {accept: KP_1, send: 1, when: composing}
      - {accept: KP_2, send: 2, when: composing}
      - {accept: KP_3, send: 3, when: composing}
      - {accept: KP_4, send: 4, when: composing}
      - {accept: KP_5, send: 5, when: composing}
      - {accept: KP_6, send: 6, when: composing}
      - {accept: KP_7, send: 7, when: composing}
      - {accept: KP_8, send: 8, when: composing}
      - {accept: KP_9, send: 9, when: composing}
      - {accept: KP_Decimal, send: period, when: composing}
      # å°†å°é”®ç›˜ + - * / æ˜ å°„åˆ°ä¸»é”®ç›˜ï¼Œä½¿è®¡ç®—å™¨ å¦‚ 1+2-3*4 å¯ä½¿ç”¨å°é”®ç›˜è¾“å…¥
      - {accept: KP_Multiply, send: asterisk, when: composing}
      - {accept: KP_Add,      send: plus,     when: composing}
      - {accept: KP_Subtract, send: minus,    when: composing}
      - {accept: KP_Divide,   send: slash,    when: composing}
  speller:
    algebra:
      ### æ¨¡ç³ŠéŸ³
      # å£°æ¯
      # - derive/^([zcs])h/$1/          # zh* ch* sh* æ´¾ç”Ÿå‡º z* c* s*
      # - derive/^([zcs])([^h])/$1h$2/  # z* c* s*    æ´¾ç”Ÿå‡º zh* ch* sh*
      # - derive/^l/n/  # è§£é‡Šï¼šä¸º l å¼€å¤´çš„æ‹¼å†™æ´¾ç”Ÿå‡º n å¼€å¤´ï¼Œå³ nai ä¹Ÿå¯ä»¥è¾“å‡º laiï¼ˆæ¥ã€è±ã€èµ–â€¦â€¦ï¼‰
      # - derive/^n/l/  #      lai å¯è¾“å‡º naiï¼ˆå¥¶ã€ä¹ƒã€å¥ˆâ€¦â€¦ï¼‰ã€‚ å¯ä»¥å•å‘æˆ–æˆå¯¹å„¿å¯ç”¨æ¨¡ç³ŠéŸ³
      # - derive/^f/h/
      # - derive/^h/f/
      # - derive/^l/r/
      # - derive/^r/l/
      # - derive/^g/k/
      # - derive/^k/g/
      # éŸµæ¯
      # - derive/ang$/an/
      # - derive/an$/ang/
      # - derive/eng$/en/
      # - derive/en$/eng/
      - derive/in$/ing/
      - derive/ing$/in/
      # - derive/ian$/iang/
      # - derive/iang$/ian/
      # - derive/uan$/uang/
      # - derive/uang$/uan/
      # - derive/ai$/an/
      # - derive/an$/ai/
      # - derive/ong$/un/
      # - derive/un$/ong/
      # - derive/ong$/on/
      # - derive/iong$/un/
      # - derive/un$/iong/
      # - derive/ong$/eng/
      # - derive/eng$/ong/
      # æ‹¼éŸ³éŸ³èŠ‚
      # - derive/^fei$/hui/
      # - derive/^hui$/fei/
      # - derive/^hu$/fu/
      # - derive/^fu$/hu/
      # - derive/^wang$/huang/
      # - derive/^huang$/wang/

      ### æ—§æ—¶çš„æ‹¼å†™è§„åˆ™
      # - derive/un$/uen/
      # - derive/ui$/uei/
      # - derive/iu$/iou/

      ### è¶…çº§ç®€æ‹¼
      - erase/^hm$/ # å“åº”è¶…çº§ç®€æ‹¼ï¼Œå–æ¶ˆã€Œå™· hmã€çš„ç‹¬å ï¼ˆå¦‚æœæ‹¼éŸ³è¯åº“æœ‰è¿™ä¸ªéŸ³èŠ‚çš„è¯ï¼Œé›¾å‡‡é‡Œæ²¡æœ‰ï¼‰
      - erase/^m$/  # å“åº”è¶…çº§ç®€æ‹¼ï¼Œå–æ¶ˆã€Œå‘£ mã€çš„ç‹¬å ï¼ˆå¦‚æœæ‹¼éŸ³è¯åº“æœ‰è¿™ä¸ªéŸ³èŠ‚çš„è¯ï¼Œé›¾å‡‡é‡Œæ²¡æœ‰ï¼‰
      - erase/^n$/  # å“åº”è¶…çº§ç®€æ‹¼ï¼Œå–æ¶ˆã€Œå—¯ nã€çš„ç‹¬å ï¼ˆå¦‚æœæ‹¼éŸ³è¯åº“æœ‰è¿™ä¸ªéŸ³èŠ‚çš„è¯ï¼Œé›¾å‡‡é‡Œæ²¡æœ‰ï¼‰
      - erase/^ng$/ # å“åº”è¶…çº§ç®€æ‹¼ï¼Œå–æ¶ˆã€Œå—¯ ngã€çš„ç‹¬å ï¼ˆå¦‚æœæ‹¼éŸ³è¯åº“æœ‰è¿™ä¸ªéŸ³èŠ‚çš„è¯ï¼Œé›¾å‡‡é‡Œæ²¡æœ‰ï¼‰
      - abbrev/^([a-z]).+$/$1/   # è¶…çº§ç®€æ‹¼
      - abbrev/^([zcs]h).+$/$1/  # è¶…çº§ç®€æ‹¼ä¸­ï¼Œzh ch sh è§†ä¸ºæ•´ä½“ï¼ˆch'sh â†’ åŸå¸‚ï¼‰ï¼Œè€Œä¸æ˜¯åƒè¿™æ ·åˆ†å¼€ï¼ˆc'h's'h â†’ åƒå¥½ç¡å¥½ï¼‰ã€‚

      ### v u è½¬æ¢
      # é›¾å‡‡çš„è¯åº“ä¸¥æ ¼æŒ‰ç…§æ­£ç¡®çš„ u v(Ã¼) æ³¨éŸ³çš„ï¼Œä¸‹é¢ä¸¤è¡Œæ”¯æŒä½¿ç”¨é”™è¯¯çš„æ‹¼éŸ³ï¼Œä¾‹å¦‚ qv nue æ¥å“åº” qu nve
      - derive/^([nl])ve$/$1ue/
      - derive/^([jqxy])u/$1v/
      # ä»¥é˜²å¼•å…¥çš„å…¶ä»–è¯åº“æ²¡æŒ‰ç…§æ­£ç¡®æ–¹å¼æ³¨éŸ³ï¼Œä¹Ÿåšä¸€ä¸ªè½¬æ¢
      - derive/^([nl])ue$/$1ve/
      - derive/^([jqxy])v/$1u/

      ### è‡ªåŠ¨çº é”™
  ########## START è¿™å‡ ä¸ªæœ‰å‰¯ä½œç”¨çš„è§„åˆ™åœˆèµ·æ¥ï¼Œæ–¹ä¾¿å–èˆ
      # è¿™äº›è§„åˆ™å¯¹å…¨æ‹¼ç®€æ‹¼æ··è¾“æœ‰å‰¯ä½œç”¨ï¼šå¦‚ã€Œx'ai å–œçˆ±ã€è¢«çº é”™ä¸ºã€Œxia ä¸‹ã€
      # zhã€chã€sh
      - derive/([zcs])h(a|e|i|u|ai|ei|an|en|ou|uo|ua|un|ui|uan|uai|uang|ang|eng|ong)$/h$1$2/  # hzi â†’ zhi
      - derive/([zcs])h([aeiu])$/$1$2h/  # zih â†’ zhi
      # # ia
      # - derive/([qjx])ia$/$1ai/  # qai â†’ qia
      # # an
      # - derive/([wrtypsdfghklzcbnm])an$/$1na/  # dna â†’ dan
      # # en
      # - derive/([wrpsdfghklzcbnm])en$/$1ne/  # rne â†’ ren
      # # in
      # - derive/([qypjlxbnm])in$/$1ni/  # qni â†’ qin
      # # un
      # - derive/([qrtysdghjklzxc])un$/$1nu/  # qnu â†’ qun
      # # ian
      # - derive/([qtpdjlxbnm])ian$/$1ain/
  ########## END
      # ai
      - derive/^([wghk])ai$/$1ia/  # wia â†’ wai
      # ei
      - derive/([wfghkz])ei$/$1ie/  # wie â†’ wei
      # ie
      - derive/([jqx])ie$/$1ei/  # jei â†’ jie
      # ao
      - derive/([rtypsdghklzcbnm])ao$/$1oa/
      # ou
      - derive/([ypfm])ou$/$1uo/
      # uoï¼ˆæ— ï¼‰
      # ang
      - derive/([wrtypsdfghklzcbnm])ang$/$1nag/
      - derive/([wrtypsdfghklzcbnm])ang$/$1agn/
      # eng
      - derive/([wrtpsdfghklzcbnm])eng$/$1neg/
      - derive/([wrtpsdfghklzcbnm])eng$/$1egn/
      # ing
      - derive/([qtypdjlxbnm])ing$/$1nig/
      - derive/([qtypdjlxbnm])ing$/$1ign/
      # ong
      - derive/([rtysdghklzcn])ong$/$1nog/
      - derive/([rtysdghklzcn])ong$/$1ogn/
      # iao
      - derive/([qtpdjlxbnm])iao$/$1ioa/
      - derive/([qtpdjlxbnm])iao$/$1oia/
      # ui
      - derive/([rtsghkzc])ui$/$1iu/
      # iu
      - derive/([qjlxnm])iu$/$1ui/
      # iang
      - derive/([qjlxn])iang$/$1aing/
      - derive/([qjlxn])iang$/$1inag/
      # ua
      - derive/([g|k|h|zh|sh])ua$/$1au/
      # uai
      - derive/([g|h|k|zh|ch|sh])uai$/$1aui/
      # - derive/([g|h|k|zh|ch|sh])uai$/$1uia/ # å’Œã€Œä¼šå•Šã€è¿½å•Šã€ç­‰å¸¸ç”¨è¯æœ‰å†²çª
      # uan
      - derive/([qrtysdghjklzxcn])uan$/$1aun/
      # - derive/([qrtysdghjklzxcn])uan$/$1una/ # å’Œã€Œå»å“ªã€éœ²å¨œã€ç­‰å¸¸ç”¨è¯æœ‰å†²çª
      # ue
      - derive/([nlyjqx])ue$/$1eu/
      # uang
      - derive/([g|h|k|zh|ch|sh])uang$/$1aung/
      - derive/([g|h|k|zh|ch|sh])uang$/$1uagn/
      - derive/([g|h|k|zh|ch|sh])uang$/$1unag/
      - derive/([g|h|k|zh|ch|sh])uang$/$1augn/
      # iong
      - derive/([jqx])iong$/$1inog/
      - derive/([jqx])iong$/$1oing/
      - derive/([jqx])iong$/$1iogn/
      - derive/([jqx])iong$/$1oign/
      # å…¶ä»–
      - derive/([rtsdghkzc])o(u|ng)$/$1o/ # do â†’ dou|dong
      - derive/(.+)ong$/$1on/ # lon â†’ long
      - derive/([tl])eng$/$1en/ # ten â†’ teng
      - derive/([qwrtypsdfghjklzxcbnm])([aeio])ng$/$1ng/ # lng â†’ langã€lengã€lingã€long

